@model OneMusic.WebUI.Models.HomeViewModel
@{
    ViewData["Title"] = "Anasayfa";
}

<style>
    /* Uniform Album Cards for 'Yeni Ürünler' */
    .single-album-area {
        height: 100%;
        margin-bottom: 30px;
        transition: transform 0.3s;
    }

    .single-album-area:hover {
        transform: translateY(-5px);
    }

    .single-album-area .album-thumb {
        height: 250px;
        /* Fixed height for container */
        width: 100%;
        overflow: hidden;
        border-radius: 6px;
        background-color: #f0f0f0;
        /* Fallback color */
    }

    .single-album-area .album-thumb img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        /* Ensure image covers the area without distortion */
    }

    .single-album-area .album-info {
        padding-top: 15px;
    }

    .single-album-area .album-info h5 {
        font-size: 16px;
        margin-bottom: 5px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        /* Truncate long text */
    }

    /* Layout for Weeks Top & New Hits */
    .single-top-item,
    .single-new-item {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        background-color: #f9f9f9;
        padding: 10px;
        border-radius: 8px;
    }

    .single-top-item .thumbnail,
    .single-new-item .thumbnail {
        flex: 0 0 70px;
        /* Fixed width */
        height: 70px;
        width: 70px;
        margin-right: 15px;
        border-radius: 5px;
        overflow: hidden;
    }

    .single-top-item .thumbnail img,
    .single-new-item .thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .single-top-item .content-,
    .single-new-item .content- {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        overflow: hidden;
        /* For text truncation */
    }

    .single-top-item .content- h6,
    .single-new-item .content- h6 {
        margin-bottom: 5px;
        font-size: 15px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* Popular Artists */
    .popular-artists-area .single-artist-item {
        text-align: center;
        margin-bottom: 30px;
    }

    .popular-artists-area .single-artist-item img {
        border-radius: 50%;
        width: 120px;
        height: 120px;
        object-fit: cover;
        margin-bottom: 15px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
</style>

<!-- ##### Hero Area Start ##### -->
<section class="hero-area">
    <div class="hero-slides owl-carousel">
        <!-- Single Hero Slide -->
        <div class="single-hero-slide d-flex align-items-center justify-content-center">
            <!-- Slide Img -->
            <div class="slide-img bg-img" style="background-image: url('/one-music-gh-pages/img/bg-img/bg-1.jpg');">
            </div>
            <!-- Slide Content -->
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="hero-slides-content text-center">
                            <h6 data-animation="fadeInUp" data-delay="100ms">Son Albümler</h6>
                            <h2 data-animation="fadeInUp" data-delay="300ms">Zamanın Ötesinde <span>Zamanın
                                    Ötesinde</span></h2>
                            <a data-animation="fadeInUp" data-delay="500ms" href="#"
                                class="btn oneMusic-btn mt-50">Keşfet <i class="fa fa-angle-double-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Single Hero Slide -->
        <div class="single-hero-slide d-flex align-items-center justify-content-center">
            <!-- Slide Img -->
            <div class="slide-img bg-img" style="background-image: url('/one-music-gh-pages/img/bg-img/bg-2.jpg');">
            </div>
            <!-- Slide Content -->
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="hero-slides-content text-center">
                            <h6 data-animation="fadeInUp" data-delay="100ms">Yeni Çıkanlar</h6>
                            <h2 data-animation="fadeInUp" data-delay="300ms">Müziğin Rengi <span>Müziğin Rengi</span>
                            </h2>
                            <a data-animation="fadeInUp" data-delay="500ms" href="#"
                                class="btn oneMusic-btn mt-50">Dinle <i class="fa fa-angle-double-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ##### Hero Area End ##### -->

<!-- ##### Latest Albums Area Start ##### -->
<section class="latest-albums-area section-padding-100">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-heading style-2">
                    <p>Yenilikleri Keşfet</p>
                    <h2>Son Albümler</h2>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-12 col-lg-9">
                <div class="ablums-text text-center mb-70">
                    <p>En sevdiğiniz sanatçıların en yeni albümleri burada. Müzik dünyasındaki son gelişmelerden
                        haberdar olun ve favori şarkılarınızı hemen dinlemeye başlayın.</p>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="albums-slideshow owl-carousel">
                    @foreach (var item in Model.LatestAlbums)







                    {
                        <!-- Single Album -->
                        <div class="single-album">
                            <img src="@item.CoverImage" alt="" style="height: 250px; object-fit: cover; width: 100%;">
                            <div class="album-info">
                                <a href="/Albums/Details/@item.AlbumId">
                                    <h5>@(item.AppUser?.Name ?? "Sanatçı")</h5>
                                </a>
                                <p>@item.AlbumName</p>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ##### Latest Albums Area End ##### -->

<!-- ##### Buy Now Area Start ##### -->
<section class="oneMusic-buy-now-area has-fluid bg-gray section-padding-100">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="section-heading style-2">
                    <p>Satın Al</p>
                    <h2>Yeni Ürünler</h2>
                </div>
            </div>
        </div>

        <div class="row">

            @foreach (var item in Model.BuyNowAlbums)
            {
                <!-- Single Album Area -->
                <div class="col-12 col-sm-6 col-md-4 col-lg-2">
                    <div class="single-album-area wow fadeInUp" data-wow-delay="100ms">
                        <div class="album-thumb">
                            <img src="@item.CoverImage" alt="">
                            <div class="album-price">
                                <p>@item.Price.ToString("N0") ₺</p>
                            </div>
                            <!-- Play Icon Removed for cleaner look, or optional -->
                            <div class="play-icon">
                                <a href="#" class="video--play--btn"><span class="icon-play-button"></span></a>
                            </div>
                        </div>
                        <div class="album-info">
                            <a href="/Albums/Details/@item.AlbumId">
                                <h5 title="@(item.AppUser?.Name ?? "Sanatçı") @(item.AppUser?.Surname ?? "")">
                                    @(item.AppUser?.Name ?? "Sanatçı") @(item.AppUser?.Surname ?? "")</h5>
                            </a>
                            <p>@item.AlbumName</p>
                        </div>
                    </div>
                </div>
            }

        </div>

        <div class="row">
            <div class="col-12">
                <div class="load-more-btn text-center wow fadeInUp" data-wow-delay="300ms">
                    <a href="#" class="btn oneMusic-btn">Daha Fazla Yükle <i class="fa fa-angle-double-right"></i></a>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ##### Buy Now Area End ##### -->

<!-- ##### Featured Artist Area Start ##### -->
<section class="featured-artist-area section-padding-100 bg-img bg-overlay bg-fixed"
    style="background-image: url('/one-music-gh-pages/img/bg-img/bg-4.jpg');">
    <div class="container">
        <div class="row align-items-end">
            <div class="col-12 col-md-5 col-lg-4">
                <div class="featured-artist-thumb">
                    <img src="@(Model.FeaturedAlbum?.CoverImage ?? "~/one-music-gh-pages/img/bg-img/fa.jpg")" alt=""
                        style="height: 350px; object-fit: cover; width:100%">
                </div>
            </div>
            <div class="col-12 col-md-7 col-lg-8">
                <div class="featured-artist-content">
                    <!-- Section Heading -->
                    <div class="section-heading white text-left mb-30">
                        <p>Haftanın Konuğu</p>
                        <h2>@(Model.FeaturedAlbum?.AppUser?.Name ?? "Sahnelerin")
                            @(Model.FeaturedAlbum?.AppUser?.Surname ?? "Yıldızı")</h2>
                    </div>
                    <p>Müzik dünyasının en sevilen isimlerinden biri bu hafta konuğumuz.
                        @(Model.FeaturedAlbum?.AlbumName) albümü ile listeleri alt üst eden sanatçımız, yeni
                        çalışmaları ve konser takvimiyle sizlerle.</p>
                    <div class="song-play-area">
                        <div class="song-name">
                            <p>01. @(Model.FeaturedAlbum?.AlbumName ?? "Haftanın Hiti")</p>
                        </div>
                        <audio preload="auto" controls>
                            <source src="~/one-music-gh-pages/audio/dummy-audio.mp3">
                        </audio>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ##### Featured Artist Area End ##### -->

<!-- ##### Miscellaneous Area Start ##### -->
<section class="miscellaneous-area section-padding-100-0">
    <div class="container">
        <div class="row">
            <!-- ***** Weeks Top ***** -->
            <div class="col-12 col-lg-4">
                <div class="weeks-top-area mb-100">
                    <div class="section-heading text-left mb-50 wow fadeInUp" data-wow-delay="50ms">
                        <p>Listeler</p>
                        <h2>Haftanın En İyileri</h2>
                    </div>

                    @foreach (var item in Model.WeeksTopAlbums)



                    {
                        <!-- Single Top Item -->
                        <div class="single-top-item d-flex wow fadeInUp" data-wow-delay="100ms">
                            <div class="thumbnail">
                                <img src="@item.CoverImage" alt="">
                            </div>
                            <div class="content-">
                                <h6>@item.AppUser?.Name @item.AppUser?.Surname</h6>
                                <p>@item.AlbumName</p>
                            </div>
                        </div>
                    }
                </div>
            </div>

            <!-- ***** New Hits Songs ***** -->
            <div class="col-12 col-lg-4">
                <div class="new-hits-area mb-100">
                    <div class="section-heading text-left mb-50 wow fadeInUp" data-wow-delay="50ms">
                        <p>Keşfet</p>
                        <h2>Yeni Hit Şarkılar</h2>
                    </div>

                    @foreach (var item in Model.NewHitSongs)



                    {
                        <!-- Single Top Item -->
                        <div class="single-new-item d-flex align-items-center justify-content-between wow fadeInUp"
                            data-wow-delay="100ms">
                            <div class="first-part d-flex align-items-center" style="flex: 1; min-width: 0;">
                                <div class="thumbnail">
                                    <img src="@item.Album?.CoverImage" alt="">
                                </div>
                                <div class="content-">
                                    <h6 title="@item.SongName">@item.SongName</h6>
                                    <p>@item.Album?.AppUser?.Name @item.Album?.AppUser?.Surname</p>
                                </div>
                            </div>
                            <audio preload="auto" controls
                                style="width: 80px; height: 30px; border-radius:15px; margin-left:10px;">
                                <source src="@item.SongUrl">
                            </audio>
                        </div>
                    }
                </div>
            </div>

            <!-- ***** Popular Artists ***** -->
            <div class="col-12 col-lg-4">
                <div class="popular-artists-area mb-100">
                    <div class="section-heading text-left mb-50 wow fadeInUp" data-wow-delay="50ms">
                        <p>Trendler</p>
                        <h2>Popüler Sanatçılar</h2>
                    </div>

                    <div class="row">
                        @foreach (var item in Model.PopularArtists)

                        {
                            <!-- Single Artist -->
                            <div class="col-6 col-md-6 single-artist-item wow fadeInUp" data-wow-delay="100ms">
                                <img src="@(item.ImageURL ?? "/one-music-gh-pages/img/bg-img/a1.jpg")" alt="">
                                <h5>@item.Name @item.Surname</h5>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ##### Miscellaneous Area End ##### -->
